# AI ì˜ìƒ ê¸°íš ì‹œìŠ¤í…œ ì™„ì „í•œ ë””ë ‰í† ë¦¬ êµ¬ì¡°

## ğŸ“ ì „ì²´ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ entities/                           # ë„ë©”ì¸ ëª¨ë¸ ë° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â””â”€â”€ storyboard/                     # ìŠ¤í† ë¦¬ë³´ë“œ ì—”í‹°í‹°
â”‚       â”œâ”€â”€ model/
â”‚       â”‚   â”œâ”€â”€ types.ts                # 500+ ë¼ì¸ ì¢…í•© íƒ€ì… ì‹œìŠ¤í…œ
â”‚       â”‚   â””â”€â”€ storyboard.slice.ts     # 800+ ë¼ì¸ Redux ìƒíƒœ ê´€ë¦¬
â”‚       â””â”€â”€ index.ts                    # Public API ì •ì˜
â”‚
â”œâ”€â”€ features/                           # ì‚¬ìš©ì ìƒí˜¸ì‘ìš© ê¸°ëŠ¥
â”‚   â”œâ”€â”€ storyboard-wizard/              # 3ë‹¨ê³„ ìœ„ì €ë“œ ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”‚   â””â”€â”€ wizard.slice.ts         # ìœ„ì €ë“œ ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”‚   â”œâ”€â”€ StoryInputForm.tsx      # 1ë‹¨ê³„: ìŠ¤í† ë¦¬ ì…ë ¥ í¼
â”‚   â”‚   â”‚   â””â”€â”€ StoryInputForm.module.scss
â”‚   â”‚   â””â”€â”€ index.ts                    # Public API
â”‚   â”‚
â”‚   â””â”€â”€ ai-generation/                  # AI ìƒì„± ê¸°ëŠ¥
â”‚       â”œâ”€â”€ ui/
â”‚       â”‚   â”œâ”€â”€ ContiImageGenerator.tsx # ì½˜í‹° ì´ë¯¸ì§€ ìƒì„±ê¸°
â”‚       â”‚   â””â”€â”€ ContiImageGenerator.module.scss
â”‚       â””â”€â”€ index.ts                    # Public API
â”‚
â”œâ”€â”€ widgets/                            # ë³µí•© ì»´í¬ë„ŒíŠ¸ ì¡°ë¦½
â”‚   â””â”€â”€ ai-planning-wizard/             # í†µí•© ìœ„ì €ë“œ ìœ„ì ¯
â”‚       â”œâ”€â”€ ui/
â”‚       â”‚   â”œâ”€â”€ PlanningWizard.tsx      # ë©”ì¸ ìœ„ì €ë“œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚       â”‚   â””â”€â”€ ShotEditingStep.tsx     # 3ë‹¨ê³„: 12ìˆíŠ¸ í¸ì§‘
â”‚       â””â”€â”€ index.ts                    # Public API
â”‚
â”œâ”€â”€ app/                                # ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆì´ì–´
â”‚   â”œâ”€â”€ api/ai/                         # AI ìƒì„± API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ generate-story/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts                # 4ë‹¨ê³„ ìŠ¤í† ë¦¬ ìƒì„± API
â”‚   â”‚   â”œâ”€â”€ generate-shots/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts                # 12ìˆíŠ¸ ë¶„í•´ API
â”‚   â”‚   â”œâ”€â”€ generate-image/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts                # ì½˜í‹° ì´ë¯¸ì§€ ìƒì„± API
â”‚   â”‚   â”œâ”€â”€ generate-inserts/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts                # ì¸ì„œíŠ¸ ìƒ· ì¶”ì²œ API
â”‚   â”‚   â””â”€â”€ export/
â”‚   â”‚       â””â”€â”€ pdf/
â”‚   â”‚           â””â”€â”€ route.ts            # PDF ê¸°íšì•ˆ ìƒì„± API
â”‚   â”‚
â”‚   â””â”€â”€ ai-planning/                    # ë©”ì¸ í˜ì´ì§€
â”‚       â”œâ”€â”€ page.tsx                    # AI ì˜ìƒ ê¸°íš í˜ì´ì§€
â”‚       â””â”€â”€ AIPlanningPage.module.scss  # í˜ì´ì§€ ìŠ¤íƒ€ì¼
â”‚
â””â”€â”€ shared/                             # ê³µí†µ ì¸í”„ë¼
    â”œâ”€â”€ lib/
    â”‚   â””â”€â”€ store/                      # Redux ìŠ¤í† ì–´ ì„¤ì •
    â”‚       â””â”€â”€ index.ts
    â””â”€â”€ ui/                             # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
        â”œâ”€â”€ Button.tsx
        â”œâ”€â”€ Input.tsx
        â””â”€â”€ index.ts
```

## ğŸ—‚ï¸ ìƒì„¸ íŒŒì¼ ì„¤ëª…

### Entity ë ˆì´ì–´: `/src/entities/storyboard/`

#### `model/types.ts` (500+ ë¼ì¸)
- **ê¸°ë³¸ ë©”íƒ€ë°ì´í„° íƒ€ì…ë“¤**: ToneOption, GenreOption, VideoFormat, TempoOption
- **ì „ê°œ ê´€ë ¨ íƒ€ì…ë“¤**: NarrativeStyle, DevelopmentIntensity
- **4ë‹¨ê³„ ìŠ¤í† ë¦¬ êµ¬ì¡°**: StorySection ì¸í„°í˜ì´ìŠ¤
- **12ê°œ ìˆíŠ¸ êµ¬ì¡°**: Shot, ShotType, CameraMovement, CameraAngle ë“±
- **ì½˜í‹° ë° ì¸ì„œíŠ¸**: ContiImage, InsertShot ì¸í„°í˜ì´ìŠ¤
- **ì „ì²´ í”„ë¡œì íŠ¸**: StoryboardProject ë©”ì¸ êµ¬ì¡°
- **API ìš”ì²­/ì‘ë‹µ**: LLM, ì´ë¯¸ì§€, PDF ìƒì„± ê´€ë ¨ íƒ€ì…ë“¤
- **í—¬í¼ íƒ€ì…ë“¤**: ê²€ì¦, ìƒìˆ˜, ì—ëŸ¬ í´ë˜ìŠ¤ ì •ì˜

#### `model/storyboard.slice.ts` (800+ ë¼ì¸)
- **ìƒíƒœ ì¸í„°í˜ì´ìŠ¤**: í˜„ì¬ í”„ë¡œì íŠ¸, ëª©ë¡, UI ìƒíƒœ, ìƒì„± ìƒíƒœ
- **ë¹„ë™ê¸° ì•¡ì…˜ë“¤**: generateFourStageStory, generateTwelveShots, generateContiImage ë“±
- **ë™ê¸° ì•¡ì…˜ë“¤**: í”„ë¡œì íŠ¸ ê´€ë¦¬, ë‹¨ê³„ ê´€ë¦¬, í¸ì§‘ ê¸°ëŠ¥
- **ì„ íƒìë“¤**: ë©”ëª¨ì´ì œì´ì…˜ëœ ë³µí•© ì„ íƒì ë‹¤ìˆ˜
- **ì—ëŸ¬ ì²˜ë¦¬**: ìƒì„±ë³„ ì—ëŸ¬ ìƒíƒœ ê´€ë¦¬

#### `index.ts` (Public API)
- ëª¨ë“  íƒ€ì… ì •ì˜ export
- Redux ì•¡ì…˜ ë° ì„ íƒì export
- ìƒìˆ˜ ë° ì—ëŸ¬ í´ë˜ìŠ¤ export

### Feature ë ˆì´ì–´

#### `/src/features/storyboard-wizard/`

**`model/wizard.slice.ts`**
- 3ë‹¨ê³„ ìœ„ì €ë“œ ìƒíƒœ ê´€ë¦¬
- í¼ ê²€ì¦ ë¡œì§
- ìë™ì €ì¥ ìƒíƒœ ì¶”ì 

**`ui/StoryInputForm.tsx`**
- 1ë‹¨ê³„ ì…ë ¥ í¼ ì»´í¬ë„ŒíŠ¸
- ë³µí•© ì…ë ¥ (í†¤ì•¤ë§¤ë„ˆ, ì¥ë¥´ ë³µìˆ˜ ì„ íƒ)
- ì‹¤ì‹œê°„ ê²€ì¦ ë° ì—ëŸ¬ í‘œì‹œ
- ì ‘ê·¼ì„± ì™„ì „ ì§€ì›

**`ui/StoryInputForm.module.scss`**
- VideoPlanet ë¸Œëœë“œ ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜
- ë°˜ì‘í˜• ë””ìì¸
- ë‹¤í¬ëª¨ë“œ ë° ê³ ëŒ€ë¹„ ì§€ì›

#### `/src/features/ai-generation/`

**`ui/ContiImageGenerator.tsx`**
- Google ì´ë¯¸ì§€ ìƒì„± API ì—°ë™
- ìŠ¤íƒ€ì¼ í”„ë¦¬ì…‹ ë° ì»¤ìŠ¤í…€ í”„ë¡¬í”„íŠ¸
- ë²„ì „ ê´€ë¦¬ ë° ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
- ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§

**`ui/ContiImageGenerator.module.scss`**
- ì´ë¯¸ì§€ í”„ë ˆì„ ë° ì»¨íŠ¸ë¡¤ ìŠ¤íƒ€ì¼
- ë¡œë”© ì˜¤ë²„ë ˆì´ ë° ì§„í–‰ ìƒíƒœ
- ë¸Œëœë“œ ì¼ê´€ì„± ìœ ì§€

### Widget ë ˆì´ì–´: `/src/widgets/ai-planning-wizard/`

#### `ui/PlanningWizard.tsx` (ë©”ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°)
- 3ë‹¨ê³„ ìœ„ì €ë“œ í†µí•© ê´€ë¦¬
- AI ìƒì„± ì›Œí¬í”Œë¡œìš° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- ìë™ì €ì¥ ë° í”„ë¡œì íŠ¸ ê´€ë¦¬
- ë„¤ë¹„ê²Œì´ì…˜ ë° ì§„í–‰ë¥  í‘œì‹œ

#### `ui/ShotEditingStep.tsx` (3ë‹¨ê³„ í•µì‹¬)
- 12ìˆíŠ¸ ê´€ë¦¬ (ê·¸ë¦¬ë“œ/ë¦¬ìŠ¤íŠ¸ ë·°)
- í•„í„°ë§ ë° ì •ë ¬ ê¸°ëŠ¥
- í†µê³„ ëŒ€ì‹œë³´ë“œ
- ì½˜í‹° ìƒì„± ë° PDF ë‚´ë³´ë‚´ê¸°

### App ë ˆì´ì–´

#### API ì—”ë“œí¬ì¸íŠ¸ë“¤

**`api/ai/generate-story/route.ts`**
- OpenAI GPT-4 ê¸°ë°˜ 4ë‹¨ê³„ ìŠ¤í† ë¦¬ ìƒì„±
- í”„ë¡¬í”„íŠ¸ ìµœì í™” ë° ìºì‹±
- ì‘ë‹µ íŒŒì‹± ë° ê²€ì¦
- ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§

**`api/ai/generate-image/route.ts`**
- Google Imagen API ê¸°ë°˜ ì½˜í‹° ìƒì„±
- í”„ë¡¬í”„íŠ¸ ìµœì í™” ë° ìŠ¤íƒ€ì¼ ì ìš©
- íŒŒì¼ ì €ì¥ ë° ë²„ì „ ê´€ë¦¬
- ì•ˆì „ì„± ê²€ì‚¬ ë° ìºì‹œ ê´€ë¦¬

#### ë©”ì¸ í˜ì´ì§€

**`ai-planning/page.tsx`**
- ì‹œìŠ¤í…œ ì†Œê°œ ë° ê¸°ëŠ¥ ì•ˆë‚´
- PlanningWizard í†µí•©
- ì™„ì„±ëœ í”„ë¡œì íŠ¸ë¡œ ë¼ìš°íŒ…

**`ai-planning/AIPlanningPage.module.scss`**
- ì „ì²´ í˜ì´ì§€ ìŠ¤íƒ€ì¼ë§
- íˆì–´ë¡œ ì„¹ì…˜ ë° ê¸°ëŠ¥ ì¹´ë“œ
- ë°˜ì‘í˜• ë° ì ‘ê·¼ì„± ì§€ì›

## ğŸ”§ ì„¤ì • íŒŒì¼ë“¤

### ESLint ì„¤ì • (`.eslintrc.json`)
```json
{
  "extends": ["next/core-web-vitals"],
  "rules": {
    "no-restricted-imports": [
      "error", {
        "patterns": [
          {
            "group": ["../../../*"],
            "message": "ìƒëŒ€ ê²½ë¡œëŠ” 2ë‹¨ê³„ê¹Œì§€ë§Œ í—ˆìš©ë©ë‹ˆë‹¤."
          },
          {
            "group": ["**/features/*/ui/*", "**/features/*/model/*"],
            "message": "featuresëŠ” public APIë¥¼ í†µí•´ì„œë§Œ import ê°€ëŠ¥í•©ë‹ˆë‹¤."
          }
          // ... ë” ë§ì€ FSD ê·œì¹™ë“¤
        ]
      }
    ]
  }
}
```

### TypeScript ì„¤ì •
- ì—„ê²©í•œ íƒ€ì… ê²€ì‚¬ í™œì„±í™”
- ì ˆëŒ€ ê²½ë¡œ import ì„¤ì •
- FSD ì•„í‚¤í…ì²˜ ì§€ì›

## ğŸ“Š íŒŒì¼ í†µê³„

### ì½”ë“œ ë³¼ë¥¨
- **Entity ë ˆì´ì–´**: ~1,500 ë¼ì¸ (íƒ€ì… ì •ì˜ + Redux)
- **Feature ë ˆì´ì–´**: ~2,000 ë¼ì¸ (UI ì»´í¬ë„ŒíŠ¸ + ìƒíƒœ ê´€ë¦¬)
- **Widget ë ˆì´ì–´**: ~1,000 ë¼ì¸ (í†µí•© ì»´í¬ë„ŒíŠ¸)
- **App ë ˆì´ì–´**: ~1,500 ë¼ì¸ (API + í˜ì´ì§€)
- **ì´í•©**: ~6,000+ ë¼ì¸

### íƒ€ì… ì•ˆì „ì„±
- **500+ ë¼ì¸** ì¢…í•© íƒ€ì… ì‹œìŠ¤í…œ
- **100% TypeScript** ì»¤ë²„ë¦¬ì§€
- **ì»´íŒŒì¼ íƒ€ì„** ì—ëŸ¬ ë°©ì§€

### ìŠ¤íƒ€ì¼ ì‹œìŠ¤í…œ
- **SCSS ëª¨ë“ˆ** ê¸°ë°˜ ìŠ¤íƒ€ì¼ ê²©ë¦¬
- **VideoPlanet ë¸Œëœë“œ** ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜
- **ì™„ì „í•œ ë°˜ì‘í˜•** ì§€ì›

## ğŸ¯ ì˜ì¡´ì„± ë‹¤ì´ì–´ê·¸ë¨

```mermaid
graph TD
    A[app] --> B[widgets]
    B --> C[features]
    C --> D[entities]
    D --> E[shared]
    
    A1[ai-planning/page.tsx] --> B1[PlanningWizard]
    B1 --> C1[StoryInputForm]
    B1 --> C2[ContiImageGenerator]
    C1 --> D1[storyboard types]
    C2 --> D1
    
    A2[api/ai/generate-story] --> D1
    A3[api/ai/generate-image] --> D1
```

## ğŸš€ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### 1. ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ
```bash
# 1. Entity íƒ€ì… ì¶”ê°€ (í•„ìš”ì‹œ)
src/entities/storyboard/model/types.ts

# 2. Feature ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
src/features/new-feature/ui/NewComponent.tsx
src/features/new-feature/index.ts

# 3. Widgetì—ì„œ í†µí•©
src/widgets/ai-planning-wizard/ui/Integration.tsx

# 4. App ë ˆì´ì–´ì—ì„œ ì‚¬ìš©
src/app/some-page/page.tsx
```

### 2. API ì¶”ê°€ ì‹œ
```bash
# 1. íƒ€ì… ì •ì˜ ì¶”ê°€
src/entities/storyboard/model/types.ts

# 2. API ë¼ìš°íŠ¸ êµ¬í˜„
src/app/api/new-endpoint/route.ts

# 3. Redux ì•¡ì…˜ ì¶”ê°€
src/entities/storyboard/model/storyboard.slice.ts
```

## ğŸ“ˆ í™•ì¥ ê³„íš

### Phase 1: í˜„ì¬ êµ¬í˜„
- [x] ì™„ì „í•œ FSD ì•„í‚¤í…ì²˜ êµ¬ì¡°
- [x] íƒ€ì… ì•ˆì „ ì‹œìŠ¤í…œ
- [x] 3ë‹¨ê³„ ìœ„ì €ë“œ ì›Œí¬í”Œë¡œìš°
- [x] AI ìƒì„± í†µí•©

### Phase 2: ì¶”ê°€ ê¸°ëŠ¥
- [ ] ì‹¤ì‹œê°„ í˜‘ì—… (WebSocket)
- [ ] ê³ ê¸‰ í¸ì§‘ ë„êµ¬
- [ ] í…œí”Œë¦¿ ì‹œìŠ¤í…œ
- [ ] ì‚¬ìš©ì ê¶Œí•œ ê´€ë¦¬

### Phase 3: í”Œë«í¼í™”
- [ ] API ê³µê°œ
- [ ] í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ
- [ ] ë‹¤êµ­ì–´ ì§€ì›
- [ ] ëª¨ë°”ì¼ ì•±

ì´ ë””ë ‰í† ë¦¬ êµ¬ì¡°ëŠ” INSTRUCTION.mdì˜ ëª¨ë“  ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ë©´ì„œ, FSD ì•„í‚¤í…ì²˜ì˜ ì›ì¹™ì„ ì™„ë²½í•˜ê²Œ ì¤€ìˆ˜í•˜ì—¬ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. ê°œë°œíŒ€ì€ ê° ë ˆì´ì–´ë³„ë¡œ ë…ë¦½ì ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆìœ¼ë©°, Public APIë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ í†µí•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.