@import '../../../styles/design-tokens.scss';

.avatar {
  @include flex-center;
  border-radius: $radius-full;
  overflow: hidden;
  position: relative;
  transition: $transition-hover;
  font-weight: $font-weight-medium;
  user-select: none;

  // Size variants
  &--sm {
    width: 32px;
    height: 32px;
    font-size: $font-size-sm;
  }

  &--md {
    width: $profile-avatar-size; // 40px
    height: $profile-avatar-size;
    font-size: $font-size-md;
  }

  &--lg {
    width: 56px;
    height: 56px;
    font-size: $font-size-lg;
  }

  // Interactive state
  &--clickable {
    cursor: pointer;

    &:hover {
      transform: scale(1.05);
    }

    &:focus {
      outline: 2px solid $color-primary;
      outline-offset: 2px;
    }

    &:active {
      transform: scale(0.95);
    }
  }

  // Image
  &__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  // Initial text
  &__initial {
    @include flex-center;
    width: 100%;
    height: 100%;
    font-family: $font-family-primary;
    line-height: 1;
  }
}

// Accessibility
@media (prefers-reduced-motion: reduce) {
  .avatar {
    transition: none;

    &--clickable {
      &:hover {
        transform: none;
      }

      &:active {
        transform: none;
      }
    }
  }
}

// High contrast mode
@media (prefers-contrast: high) {
  .avatar {
    border: 2px solid currentColor;

    &--clickable:focus {
      outline: 3px solid currentColor;
      outline-offset: 1px;
    }
  }
}