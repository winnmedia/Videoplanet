(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[378],{35615:function(e,s,l){Promise.resolve().then(l.bind(l,28607))},28607:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return u}});var a=l(57437);l(2265);var i=l(99376),n=l(32603),c=l(94242),t=l(16323),r=l(80589),d=l(76524),m=l(81374),o=l(79916);function u(){let e=(0,i.useRouter)(),{sample_files:s}=(0,n.v9)(e=>e.ProjectStore),{inputs:l,process:u,validation:p,isSubmitting:x,onChange:h,setProcess:j,handleSubmit:b}=(0,m.b5)(),{files:N,onFileChange:f,onFileDelete:v}=(0,m.FL)(),_=async e=>{if(e.preventDefault(),!p.isValid){c.Am.error("모든 필수 항목을 입력해주세요.");return}try{await b("create")}catch(e){}},g=(e,s)=>{o.qx.downloadFile(e,s)};return(0,a.jsx)(t.Z,{leftItems:[],auth:!1,props:{},noLogin:!1,children:(0,a.jsxs)("div",{className:"cms_wrap",children:[(0,a.jsx)(r.Z,{tab:"projects",on_menu:!1}),(0,a.jsxs)("main",{className:"project edit",children:[(0,a.jsx)("div",{className:"title",children:"프로젝트 등록"}),(0,a.jsxs)("form",{onSubmit:_,className:"content",children:[(0,a.jsx)("div",{className:"group grid",children:(0,a.jsx)(d.$b,{inputs:l,onChange:h,errors:p.errors,disabled:x})}),(0,a.jsx)("div",{className:"group mt50",children:(0,a.jsxs)("div",{className:"part day",children:[(0,a.jsx)("div",{className:"s_title",children:"프로젝트 일정"}),(0,a.jsx)(d.fx,{process:u,set_process:j,disabled:x})]})}),(0,a.jsxs)("div",{className:"group grid mt50",children:[(0,a.jsxs)("div",{className:"part file",children:[(0,a.jsx)("div",{className:"s_title",children:"문서 양식"}),(0,a.jsx)("ul",{className:"sample",children:0===s.length?(0,a.jsx)("li",{className:"no-files",children:"등록된 샘플 파일이 없습니다."}):(0,a.jsx)("li",{children:s.map(e=>{let s=o.qx.extractFileName(e.file_name);return(0,a.jsx)("button",{type:"button",onClick:()=>g(e.files,s),className:"sample-file","aria-label":"".concat(s," 샘플 파일 다운로드"),children:s},e.id)})})})]}),(0,a.jsxs)("div",{className:"part file",children:[(0,a.jsx)("div",{className:"s_title",children:"파일 등록"}),(0,a.jsx)("ul",{className:"upload",children:(0,a.jsxs)("li",{children:[(0,a.jsx)("label",{htmlFor:"file",className:"file-upload-label",children:(0,a.jsx)("div",{className:"btn-upload",children:"파일 업로드"})}),(0,a.jsx)("input",{type:"file",name:"file",id:"file",onChange:f,disabled:x,multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip,.rar","aria-label":"파일 선택"})]})}),N.length>0&&(0,a.jsx)("ul",{className:"sample",children:N.map((e,s)=>(0,a.jsxs)("li",{className:"uploaded-file",children:[(0,a.jsx)("span",{className:"file-name",children:e.name}),(0,a.jsxs)("span",{className:"file-size",children:["(",(e.size/1024/1024).toFixed(2),"MB)"]}),(0,a.jsx)("button",{type:"button",onClick:()=>v(s),disabled:x,className:"delete-btn","aria-label":"".concat(e.name," 파일 삭제"),children:"삭제"})]},s))})]})]}),(0,a.jsxs)("div",{className:"btn_wrap",children:[(0,a.jsx)("button",{type:"submit",className:"submit",disabled:x||!p.isValid,children:x?"등록 중...":"등록"}),(0,a.jsx)("button",{type:"button",onClick:()=>{!(!l.name&&!l.description&&!l.manager&&!l.consumer&&!(N.length>0)||window.confirm("작성중인 내용이 있습니다. 정말 취소하시겠습니까?"))||e.push("/Calendar")},className:"submit cancel",disabled:x,children:"취소"})]})]})]})]})})}}},function(e){e.O(0,[711,990,500,41,919,145,565,985,524,971,117,744],function(){return e(e.s=35615)}),_N_E=e.O()}]);