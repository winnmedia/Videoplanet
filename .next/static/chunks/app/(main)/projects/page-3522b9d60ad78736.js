(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[480],{18359:function(e,s,t){Promise.resolve().then(t.bind(t,65715))},65715:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var a=t(57437),n=t(2265),l=t(99376),c=t(32603),i=t(16323),r=t(80589),h=t(6265),d=t(19558),j=t(76524),o=t(81374);function x(){let e=(0,l.useRouter)(),{projects:s,loading:t,fetchProjects:x}=(0,o.Z0)(),{user:u}=(0,c.v9)(e=>e.ProjectStore),[p,m]=(0,n.useState)("월"),[f,N]=(0,n.useState)(new Date().getDate()-1),[_,v]=(0,n.useState)(new Date().getMonth()),[w,g]=(0,n.useState)(new Date().getFullYear()),[D,y]=(0,n.useState)(0),[b,k]=(0,n.useState)([]),S=e=>{let s;let t=new Date(w,_,0).getDate(),a=new Date(w,_,0).getDay(),n=new Date(w,_+1,0).getDay(),l=new Date(w,_+1,0).getDate(),c=[];if(6!==a){let e=_-1,s=w;e<0&&(s--,e=11);for(let n=0;n<a+1;n++)c.unshift(new Date(s,e,t-n))}let i=[],r=_+1,h=w;r>11&&(h++,r=0);for(let e=1;e<7-n&&0!==e;e++)i.push(new Date(h,r,e));let d=[];for(let e=1;e<l+1;e++)d.push(new Date(w,_,e));if("일"===e)return k(s=d),s;{let e=[...c,...d,...i],t=[];for(let s=0;s<e.length;s+=7){let a=e.slice(s,s+7);t.push(a)}return k(s=t),s}},Z=e=>{m(e),S(e)};return((0,n.useEffect)(()=>{x(),S(p)},[]),(0,n.useEffect)(()=>{S(p)},[w,_,p]),t)?(0,a.jsx)(i.Z,{leftItems:[],auth:!1,props:{},noLogin:!1,children:(0,a.jsxs)("div",{className:"cms_wrap",children:[(0,a.jsx)(r.Z,{tab:"projects",on_menu:!1}),(0,a.jsx)("main",{className:"project",children:(0,a.jsxs)("div",{className:"loading-spinner",children:[(0,a.jsx)("div",{className:"spinner"}),(0,a.jsx)("p",{children:"프로젝트를 불러오는 중..."})]})})]})}):(0,a.jsx)(i.Z,{leftItems:[],auth:!1,props:{},noLogin:!1,children:(0,a.jsxs)("div",{className:"cms_wrap",children:[(0,a.jsx)(r.Z,{tab:"projects",on_menu:!1}),(0,a.jsxs)("main",{className:"project",children:[(0,a.jsxs)("div",{className:"project-header",children:[(0,a.jsx)("h1",{className:"title",children:"프로젝트 관리"}),(0,a.jsx)("button",{onClick:()=>{e.push("/projects/create")},className:"submit create-btn",type:"button",children:"새 프로젝트 생성"})]}),(0,a.jsxs)("div",{className:"content calendar",children:[(0,a.jsxs)("div",{className:"filter flex space_between align_center",children:[(0,a.jsx)(h.Z,{totalDate:b,year:w,month:_,setMonth:v,setYear:g,week_index:D,set_week_index:y,type:p,changeDate:S,day:f,setDay:N}),(0,a.jsx)("div",{className:"type flex align_center",children:(0,a.jsx)("select",{value:p,onChange:e=>Z(e.target.value),className:"date-type-select",children:["월","주","일"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})})]}),b.length>0&&(0,a.jsx)(d.Z,{totalDate:b,month:_,year:w,week_index:D,type:p,day:f,current_project:null,is_admin:!1,refetch:x,project_list:s,user_memos:[]}),(0,a.jsx)("div",{className:"list_mark",children:(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"first"}),"기초기획안 작성"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"second"}),"스토리보드 작성"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"third"}),"촬영 (계획/진행)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"fourth"}),"비디오 편집"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"fifth"}),"후반 작업"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"sixth"}),"비디오 시사 (피드백)"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"seven"}),"최종 컨펌"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"eighth"}),"영상 납품"]})]})}),(0,a.jsx)(j.l2,{project_list:s,onProjectClick:s=>{e.push("/projects/".concat(s.id,"/view"))},showAllPhases:!0})]})]})]})})}function u(){return(0,a.jsx)(n.Suspense,{fallback:(0,a.jsx)("div",{className:"projects-page",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"text-center",children:"로딩 중..."})})}),children:(0,a.jsx)(x,{})})}}},function(e){e.O(0,[711,83,990,89,115,41,919,145,565,991,114,985,524,9,971,117,744],function(){return e(e.s=18359)}),_N_E=e.O()}]);