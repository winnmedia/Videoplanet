(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{60182:function(e,s,a){Promise.resolve().then(a.bind(a,69395))},69395:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return i}});var t=a(57437),n=a(2265),l=a(99376);a(55206);var r=a(91420);function i(){let e=(0,l.useRouter)(),{resetPassword:s,sendResetEmail:a,verifyResetCode:i,loading:c,error:d}=(0,r.cU)(),[h,m]=(0,n.useState)(!1),[u,o]=(0,n.useState)(""),[x,p]=(0,n.useState)(!1),[g,j]=(0,n.useState)({email:"",auth_number:"",password:"",password1:""}),{email:N,auth_number:b,password:v,password1:f}=g,y=e=>{let{value:s,name:a}=e.target;j({...g,[a]:s})},w=()=>{setTimeout(()=>{o("")},3e3)},C=async()=>{if(!(N.length<=5))try{p(!0),await a(N),setTimeout(()=>{p(!1)},3e3)}catch(e){p(!1),o(e.message||"인증번호 전송에 실패했습니다."),w()}},_=async()=>{if(0!==b.length)try{await i(N,b),m(!0)}catch(e){o(e.message||"인증번호가 올바르지 않습니다."),w(),j({...g,auth_number:""})}},k=async()=>{if(!(v.length<=9)&&!(f.length<=9)){if(v!==f){o("비밀번호가 일치하지 않습니다."),w();return}try{await s({email:N,password:v,auth_number:b}),alert("비밀번호를 변경했습니다."),e.push("/login")}catch(e){o(e.message||"비밀번호 변경에 실패했습니다."),w()}}};return(0,t.jsx)("div",{className:"auth-container",children:(0,t.jsxs)("div",{className:"auth-form",children:[(0,t.jsx)("div",{className:"title",children:"비밀번호 찾기"}),h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"password",name:"password",onChange:y,value:v,placeholder:"비밀번호 입력 (최소 10자)",className:"ty01 mt10",maxLength:20,disabled:c}),(0,t.jsx)("input",{type:"password",name:"password1",onChange:y,value:f,placeholder:"새로운 비밀번호 확인",className:"ty01 mt10",maxLength:20,disabled:c}),u&&(0,t.jsx)("div",{className:"error",children:u}),d&&(0,t.jsx)("div",{className:"error",children:d}),(0,t.jsx)(()=>v.length>9&&f.length>9&&(0,t.jsx)("button",{onClick:k,className:"submit mt30",disabled:c,children:c?"처리 중...":"확인"}),{})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"pr mt50",children:[(0,t.jsx)("input",{type:"email",name:"email",value:N,onChange:y,placeholder:"이메일 입력",className:"ty01",maxLength:50,disabled:c}),(0,t.jsx)(()=>N.length>5&&!x&&(0,t.jsx)("button",{onClick:C,className:"cert",disabled:c,children:c?"전송 중...":"인증"}),{})]}),x&&(0,t.jsx)("div",{className:"pr mt10",children:(0,t.jsx)("input",{type:"text",name:"auth_number",value:b,onChange:y,placeholder:"인증번호 입력",className:"ty01",disabled:c})}),u&&(0,t.jsx)("div",{className:"error",children:u}),d&&(0,t.jsx)("div",{className:"error",children:d}),(0,t.jsx)(()=>b.length>0&&(0,t.jsx)("button",{onClick:_,className:"submit mt30",disabled:c,children:c?"확인 중...":"확인"}),{})]})]})})}},55206:function(){}},function(e){e.O(0,[295,990,500,420,971,117,744],function(){return e(e.s=60182)}),_N_E=e.O()}]);