(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[743],{79978:function(e,s,a){Promise.resolve().then(a.bind(a,50317))},50317:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return o}});var c=a(57437),n=a(2265),t=a(99376),i=a(32603);a(55206);var l=a(91420),r=a(85763);function o(e){let{params:s}=e,a=(0,t.useRouter)(),o=(0,i.I0)(),d=(0,t.useSearchParams)(),{acceptInvitation:u,loading:h,error:m}=(0,l.lz)(),f=null==d?void 0:d.get("uid"),j=s.token,[x,v]=(0,n.useState)("loading");(0,n.useEffect)(()=>{(async()=>{if((0,r.bV)()){if(f&&j)try{await u({uid:f,token:j}),v("success")}catch(e){console.error("Invitation acceptance failed:",e),v("fail")}else v("fail")}else a.push("/login?uid=".concat(f,"&token=").concat(j))})()},[f,j,u,a]);let N=async()=>{try{await (0,r.J_)(o,a),a.push("/dashboard")}catch(e){console.error("Failed to refetch project data:",e),a.push("/dashboard")}};return(0,c.jsx)("div",{className:"auth-container",children:(0,c.jsx)("div",{className:"auth-form bg",children:(0,c.jsxs)("div",{className:"emailcheck",children:[(0,c.jsx)("div",{className:"logo",children:(0,c.jsx)("img",{src:"/_next/static/media/logo.297e02c4.svg",alt:"Vlanet Logo"})}),"success"===x?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"ment",children:["안녕하세요, ",(0,c.jsx)("br",{}),(0,c.jsx)("span",{className:"en",children:"vlanet"}),"를 함께 사용하도록 초대받으셨습니다."]}),(0,c.jsx)("button",{onClick:N,className:"submit",disabled:h,children:h?"로딩 중...":"시작하기"})]}):"fail"===x?(0,c.jsxs)("div",{className:"ment",children:["죄송합니다,",(0,c.jsx)("br",{}),"계정 이메일과 초대받은 이메일이",(0,c.jsx)("br",{}),(0,c.jsx)("span",{className:"un",children:"일치하지 않습니다."})]}):(0,c.jsx)("div",{className:"ment",children:h?"이메일 확인중...":"처리 중..."}),m&&(0,c.jsx)("div",{className:"error mt20",children:m})]})})})}},55206:function(){}},function(e){e.O(0,[295,990,500,420,971,117,744],function(){return e(e.s=79978)}),_N_E=e.O()}]);