(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{64197:function(e,s,a){Promise.resolve().then(a.bind(a,71734))},71734:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return u}});var n=a(57437),t=a(2265),i=a(99376),r=a(32603),l=a(91420),o=a(24405),d=a(53638);function c(){let e=(0,r.I0)(),s=(0,i.useRouter)(),a=(0,i.useSearchParams)(),{login:c}=(0,l.aC)(),[u,m]=(0,t.useState)({email:"",password:""}),[h,p]=(0,t.useState)(""),[v,k]=(0,t.useState)(!1),{email:f,password:y}=u,b=null==a?void 0:a.get("uid"),x=null==a?void 0:a.get("token"),g=b&&x?{uid:b,token:x}:null,N=e=>{let{value:s,name:a}=e.target;m({...u,[a]:s})};(0,t.useEffect)(()=>{(0,d.bV)()&&(g?s.push("/email-check?uid=".concat(g.uid,"&token=").concat(g.token)):s.push("/dashboard"))},[g,s]);let j=a=>{window.localStorage.setItem("VGID",JSON.stringify(a)),(0,d.J_)(e,s),g?s.push("/email-check?uid=".concat(g.uid,"&token=").concat(g.token)):s.push("/dashboard")},_=e=>{var s,a;console.error("Login error:",e),(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)?p(e.response.data.message):p("이메일 또는 비밀번호가 일치하지 않습니다.")},w=async()=>{if(!f.trim()){p("이메일을 입력해주세요.");return}if(!y.trim()){p("비밀번호를 입력해주세요.");return}k(!0),p("");try{let e=await o.iJ.signIn(u);j(e.data.vridge_session)}catch(e){_(e)}finally{k(!1)}},C=e=>{"Enter"===e.key&&w()};return(0,n.jsx)("div",{className:"Auth_Form",children:(0,n.jsxs)("div",{className:"form_wrap",children:[(0,n.jsx)("div",{className:"title",children:"로그인"}),(0,n.jsx)("input",{type:"email",name:"email",placeholder:"이메일",className:"ty01 mt50",value:f,onChange:N,onKeyPress:C,autoComplete:"email",disabled:v}),(0,n.jsx)("input",{type:"password",name:"password",placeholder:"비밀번호",className:"ty01 mt10",value:y,onChange:N,onKeyPress:C,autoComplete:"current-password",disabled:v}),h&&(0,n.jsx)("div",{className:"error",role:"alert","aria-live":"polite",children:h}),(0,n.jsx)("div",{className:"find_link tr",onClick:()=>s.push("/reset-password"),role:"button",tabIndex:0,onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&s.push("/reset-password")},children:"비밀번호 찾기"}),(0,n.jsx)("button",{className:"submit mt20 ".concat(v?"loading":""),onClick:w,disabled:v,type:"button",children:v?"로그인 중...":"로그인"}),(0,n.jsxs)("div",{className:"mt20 signup_link",children:["브이릿지가 처음이신가요?"," ",(0,n.jsx)("span",{onClick:()=>s.push("/signup"),role:"button",tabIndex:0,onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&s.push("/signup")},children:"간편 가입하기"})]})]})})}function u(){return(0,n.jsx)(t.Suspense,{fallback:(0,n.jsx)("div",{className:"Auth_Form",children:(0,n.jsx)("div",{className:"form_wrap",children:(0,n.jsx)("div",{className:"title",children:"로딩 중..."})})}),children:(0,n.jsx)(c,{})})}}},function(e){e.O(0,[990,89,115,420,971,117,744],function(){return e(e.s=64197)}),_N_E=e.O()}]);