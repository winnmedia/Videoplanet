(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{64197:function(e,s,t){Promise.resolve().then(t.bind(t,71734))},71734:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var n=t(57437),a=t(2265),i=t(99376),r=t(32603),l=t(91420),o=t(24405),u=t(53638);function d(){let e=(0,r.I0)(),s=(0,i.useRouter)(),t=(0,i.useSearchParams)(),{login:d}=(0,l.aC)(),[c,p]=(0,a.useState)({email:"",password:""}),[m,h]=(0,a.useState)(""),[k,v]=(0,a.useState)(!1),{email:y,password:f}=c,b=null==t?void 0:t.get("uid"),g=null==t?void 0:t.get("token"),N=b&&g?{uid:b,token:g}:null,w=e=>{let{value:s,name:t}=e.target;p({...c,[t]:s})};(0,a.useEffect)(()=>{(0,u.bV)()&&(N?s.push("/email-check?uid=".concat(N.uid,"&token=").concat(N.token)):s.push("/dashboard"))},[N,s]);let x=t=>{window.localStorage.setItem("VGID",JSON.stringify(t)),(0,u.J_)(e,s),N?s.push("/email-check?uid=".concat(N.uid,"&token=").concat(N.token)):s.push("/dashboard")},_=e=>{var s,t;console.error("Login error:",e),(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)?h(e.response.data.message):h("이메일 또는 비밀번호가 일치하지 않습니다.")},j=async()=>{if(!y.trim()){h("이메일을 입력해주세요.");return}if(!f.trim()){h("비밀번호를 입력해주세요.");return}v(!0),h("");try{let e=await o.iJ.signIn(c);x(e.data.vridge_session)}catch(e){_(e)}finally{v(!1)}},C=e=>{"Enter"===e.key&&j()};return(0,n.jsx)("div",{className:"Auth_Form",children:(0,n.jsxs)("div",{className:"form_wrap",children:[(0,n.jsx)("div",{className:"title",children:"로그인"}),(0,n.jsx)("input",{type:"email",name:"email",placeholder:"이메일",className:"ty01 mt50",value:y,onChange:w,onKeyPress:C,autoComplete:"email",disabled:k}),(0,n.jsx)("input",{type:"password",name:"password",placeholder:"비밀번호",className:"ty01 mt10",value:f,onChange:w,onKeyPress:C,autoComplete:"current-password",disabled:k}),m&&(0,n.jsx)("div",{className:"error",role:"alert","aria-live":"polite",children:m}),(0,n.jsx)("div",{className:"find_link tr",onClick:()=>s.push("/reset-password"),role:"button",tabIndex:0,onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&s.push("/reset-password")},children:"비밀번호 찾기"}),(0,n.jsx)("button",{className:"submit mt20 ".concat(k?"loading":""),onClick:j,disabled:k,type:"button",children:k?"로그인 중...":"로그인"}),(0,n.jsxs)("div",{className:"mt20 signup_link",children:["브이릿지가 처음이신가요?"," ",(0,n.jsx)("span",{onClick:()=>s.push("/signup"),role:"button",tabIndex:0,onKeyPress:e=>{("Enter"===e.key||" "===e.key)&&s.push("/signup")},children:"간편 가입하기"})]})]})})}}},function(e){e.O(0,[990,89,115,420,971,117,744],function(){return e(e.s=64197)}),_N_E=e.O()}]);