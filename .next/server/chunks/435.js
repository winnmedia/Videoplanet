exports.id=435,exports.ids=[435],exports.modules={6174:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},7010:()=>{},5303:()=>{},7409:(e,t,r)=>{"use strict";r.d(t,{iJ:()=>o,sr:()=>n});var a=r(5509);let s=process.env.NEXT_PUBLIC_BACKEND_API_URL||process.env.REACT_APP_BACKEND_API_URL,o={signIn:e=>(0,a.Fi)("post",`${s}/users/login`,e),signUp:e=>(0,a.Fi)("post",`${s}/users/signup`,e),sendAuthNumber:(e,t)=>(0,a.Fi)("post",`${s}/users/send_authnumber/${t}`,e),verifyEmail:(e,t)=>(0,a.Fi)("post",`${s}/users/signup_emailauth/${t}`,e),resetPassword:e=>(0,a.Fi)("post",`${s}/users/password_reset`,e),refreshToken:e=>(0,a.Fi)("post",`${s}/auth/token/refresh/`,{refresh:e}),signOut:e=>(0,a.Fi)("post",`${s}/auth/logout/`,{refresh:e}),getUserProfile:()=>(0,a.Fi)("get",`${s}/users/profile/`),updateUserProfile:e=>(0,a.Fi)("patch",`${s}/users/profile/`,e),changePassword:e=>(0,a.Fi)("post",`${s}/users/change-password/`,e),verifyInvitation:(e,t)=>(0,a.Fi)("get",`${s}/users/verify-invitation/${e}/${t}/`),acceptInvitation:(e,t)=>(0,a.Fi)("post",`${s}/users/accept-invitation/`,{uid:e,token:t}),writeUserMemo:e=>(0,a.Fi)("post",`${s}/users/memo`,e),deleteUserMemo:e=>(0,a.Fi)("delete",`${s}/users/memo/${e}`),getUserMemos:()=>(0,a.Fi)("get",`${s}/users/memo`),deleteAccount:e=>(0,a.Fi)("delete",`${s}/users/account/`,{password:e})},n=e=>{if(e?.response?.status===401){localStorage.removeItem("VGID"),window.location.href="/login";return}return e?.response?.data?.message||e?.response?.data?.detail||"알 수 없는 오류가 발생했습니다."}},703:(e,t,r)=>{"use strict";r.d(t,{aC:()=>c,cU:()=>d,lz:()=>u});var a=r(7577),s=r(5047),o=r(9543),n=r(7409),l=r(5509);let i={LOGIN_START:"auth/loginStart",LOGIN_SUCCESS:"auth/loginSuccess",LOGIN_FAILURE:"auth/loginFailure",LOGOUT:"auth/logout",SET_USER:"auth/setUser"},c=()=>{let e=(0,o.I0)(),t=(0,s.useRouter)(),r=(0,o.v9)(e=>e.auth||{}),[c,u]=(0,a.useState)(!1),[d,p]=(0,a.useState)(null),[h,_]=(0,a.useState)(r.user||null),[m,f]=(0,a.useState)(!1),y=(0,a.useCallback)(()=>{p(null)},[]),g=(0,a.useCallback)(()=>{try{let e=localStorage.getItem("VGID");return e?JSON.parse(e):null}catch(e){return console.error("Token parsing error:",e),null}},[]),v=(0,a.useCallback)(e=>{try{localStorage.setItem("VGID",JSON.stringify(e))}catch(e){console.error("Token storage error:",e)}},[]),w=(0,a.useCallback)(()=>{let e=(0,l.bV)();return f(!!e),!!e},[]),P=(0,a.useCallback)(async()=>{try{if(!w())return;let t=await n.iJ.getUserProfile();_(t.data),e({type:i.SET_USER,payload:t.data})}catch(t){console.error("Failed to refresh user data:",t);let e=(0,n.sr)(t);e&&p(e)}},[e,w]),S=(0,a.useCallback)(async r=>{try{u(!0),p(null),e({type:i.LOGIN_START});let a=await n.iJ.signIn(r),s=a.data.vridge_session;v(s),a.data.user&&(_(a.data.user),e({type:i.LOGIN_SUCCESS,payload:a.data.user})),f(!0),await (0,l.J_)(e,t)}catch(r){console.error("Login error:",r);let t=(0,n.sr)(r);throw p(t||"로그인에 실패했습니다."),e({type:i.LOGIN_FAILURE,payload:t}),r}finally{u(!1)}},[e,t,v]),C=(0,a.useCallback)(async()=>{try{u(!0);let r=g();if(r?.refresh)try{await n.iJ.signOut(r.refresh)}catch(e){console.warn("Logout API call failed:",e)}localStorage.removeItem("VGID"),_(null),f(!1),p(null),e({type:i.LOGOUT}),t.push("/login")}catch(e){console.error("Logout error:",e),p("로그아웃 중 오류가 발생했습니다.")}finally{u(!1)}},[e,t,g]),I=(0,a.useCallback)(async t=>{try{u(!0),p(null);let r=await n.iJ.signUp(t);r.data.vridge_session&&(v(r.data.vridge_session),_(r.data.user),f(!0),e({type:i.LOGIN_SUCCESS,payload:r.data.user}))}catch(e){throw console.error("Signup error:",e),p((0,n.sr)(e)||"회원가입에 실패했습니다."),e}finally{u(!1)}},[e,v]),E=(0,a.useCallback)(async t=>{try{u(!0),p(null);let r=await n.iJ.updateUserProfile(t);_(r.data),e({type:i.SET_USER,payload:r.data})}catch(e){throw console.error("Profile update error:",e),p((0,n.sr)(e)||"프로필 업데이트에 실패했습니다."),e}finally{u(!1)}},[e]),A=(0,a.useCallback)(async e=>{try{u(!0),p(null),await n.iJ.changePassword(e)}catch(e){throw console.error("Password change error:",e),p((0,n.sr)(e)||"비밀번호 변경에 실패했습니다."),e}finally{u(!1)}},[]);return(0,a.useEffect)(()=>{(async()=>{if(w())try{await P()}catch(e){console.warn("Failed to load user data on init:",e),localStorage.removeItem("VGID"),f(!1)}})()},[w,P]),{user:h,isAuthenticated:m,loading:c,error:d,login:S,logout:C,signup:I,updateProfile:E,changePassword:A,clearError:y,checkAuthStatus:w,refreshUserData:P}},u=()=>{let[e,t]=(0,a.useState)(!1),[r,s]=(0,a.useState)(null);return{loading:e,error:r,verifyInvitation:(0,a.useCallback)(async e=>{try{return t(!0),s(null),(await n.iJ.verifyInvitation(e.uid,e.token)).data}catch(e){throw console.error("Invitation verification error:",e),s((0,n.sr)(e)||"초대 링크 확인에 실패했습니다."),e}finally{t(!1)}},[]),acceptInvitation:(0,a.useCallback)(async e=>{try{return t(!0),s(null),(await n.iJ.acceptInvitation(e.uid,e.token)).data}catch(e){throw console.error("Invitation acceptance error:",e),s((0,n.sr)(e)||"초대 수락에 실패했습니다."),e}finally{t(!1)}},[]),clearError:()=>s(null)}},d=()=>{let[e,t]=(0,a.useState)(!1),[r,s]=(0,a.useState)(null);return{loading:e,error:r,sendResetEmail:(0,a.useCallback)(async e=>{try{t(!0),s(null),await n.iJ.sendAuthNumber({email:e},"password_reset")}catch(e){throw console.error("Password reset email error:",e),s((0,n.sr)(e)||"비밀번호 재설정 이메일 전송에 실패했습니다."),e}finally{t(!1)}},[]),verifyResetCode:(0,a.useCallback)(async(e,r)=>{try{t(!0),s(null),await n.iJ.verifyEmail({email:e,auth_number:r},"password_reset")}catch(e){throw console.error("Password reset verification error:",e),s((0,n.sr)(e)||"인증번호 확인에 실패했습니다."),e}finally{t(!1)}},[]),resetPassword:(0,a.useCallback)(async e=>{try{t(!0),s(null),await n.iJ.resetPassword(e)}catch(e){throw console.error("Password reset error:",e),s((0,n.sr)(e)||"비밀번호 재설정에 실패했습니다."),e}finally{t(!1)}},[]),clearError:()=>s(null)}}},5355:(e,t,r)=>{"use strict";r.d(t,{$s:()=>o,CH:()=>l,E0:()=>n,l2:()=>s});var a=r(5509);function s(){return(0,a.Fi)("get",`${process.env.REACT_APP_BACKEND_API_URL}/projects/project_list`)}function o(e,t){return(0,a.Fi)("post",`${process.env.REACT_APP_BACKEND_API_URL}/projects/memo/${t}`,e)}function n(e,t){return(0,a.Fi)("delete",`${process.env.REACT_APP_BACKEND_API_URL}/projects/memo/${t}`,e)}function l(e,t){return(0,a.Fi)("post",`${process.env.REACT_APP_BACKEND_API_URL}/projects/date_update/${t}`,e)}},5509:(e,t,r)=>{"use strict";r.d(t,{Fi:()=>p,bV:()=>h,J_:()=>_});var a=r(4099),s=r(9682);let o={user:null,nickname:null,sample_files:[],project_list:[],this_month_project:[],next_month_project:[]},n=(0,s.oM)({name:"project",initialState:o,reducers:{updateProjectStore:(e,t)=>e={...e,...t.payload},resetProjectStore:(e,t)=>o}}),{updateProjectStore:l,resetProjectStore:i}=n.actions;n.reducer;var c=r(5355),u=r(7967),d=r.n(u);function p(e,t,r,s){return(0,a.Z)({method:e,url:t,data:r,withCredentials:!0,timeout:3e4,crossDomain:!0,...s})}function h(){return null}function _(e,t){if(h()){let r=new Date;(0,c.l2)().then(t=>{let a=t.data.result.sort((e,t)=>new Date(t.created)-new Date(e.created)),s=r.getMonth()+1,o=a.filter((e,t)=>d()(e.first_date).format("M")==s||d()(e.end_date).format("M")==s),n=a.filter((e,t)=>d()(e.first_date).format("M")==s+1||d()(e.end_date).format("M")==s+1);e(l({user:t.data.user,nickname:t.data.nickname,sample_files:t.data.sample_files,project_list:a,this_month_project:o,next_month_project:n,user_memos:t.data.user_memos}))}).catch(e=>{console.log(e),e.response&&e.response.data&&"NEED_ACCESS_TOKEN"===e.response.data.message&&t.push("/login")})}}r(2679)},4713:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(9510);function s({children:e}){return a.jsx("div",{className:"auth-container",children:a.jsx("div",{className:"auth-wrapper",children:e})})}},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>n});var a=r(9510),s=r(7366),o=r.n(s);let n={title:"VideoPlanet",description:"영상 제작 협업 플랫폼"};function l({children:e}){return a.jsx("html",{lang:"ko",children:a.jsx("body",{className:o().className,children:e})})}}};