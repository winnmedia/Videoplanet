exports.id=780,exports.ids=[780],exports.modules={6816:(e,t,r)=>{Promise.resolve().then(r.bind(r,3644))},6174:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},5303:()=>{},3644:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>u});var s={};r.r(s);var a=r(326),o=r(9543),n=r(5531),l=r(7539),i=r.n(l),c=r(562);function u({children:e}){return a.jsx(o.zt,{store:s.store,children:e})}"production"===process.env.REACT_APP_MODE?(0,n.jB)((0,n.UY)({ProjectStore:c.ZP})):(0,n.jB)((0,n.UY)({ProjectStore:c.ZP}),(0,n.md)(i())),r(2618),r(1769)},7409:(e,t,r)=>{"use strict";r.d(t,{iJ:()=>o,sr:()=>n});var s=r(2272);let a=process.env.NEXT_PUBLIC_BACKEND_API_URL||process.env.REACT_APP_BACKEND_API_URL,o={signIn:e=>(0,s.Fi)("post",`${a}/users/login`,e),signUp:e=>(0,s.Fi)("post",`${a}/users/signup`,e),sendAuthNumber:(e,t)=>(0,s.Fi)("post",`${a}/users/send_authnumber/${t}`,e),verifyEmail:(e,t)=>(0,s.Fi)("post",`${a}/users/signup_emailauth/${t}`,e),resetPassword:e=>(0,s.Fi)("post",`${a}/users/password_reset`,e),refreshToken:e=>(0,s.Fi)("post",`${a}/auth/token/refresh/`,{refresh:e}),signOut:e=>(0,s.Fi)("post",`${a}/auth/logout/`,{refresh:e}),getUserProfile:()=>(0,s.Fi)("get",`${a}/users/profile/`),updateUserProfile:e=>(0,s.Fi)("patch",`${a}/users/profile/`,e),changePassword:e=>(0,s.Fi)("post",`${a}/users/change-password/`,e),verifyInvitation:(e,t)=>(0,s.Fi)("get",`${a}/users/verify-invitation/${e}/${t}/`),acceptInvitation:(e,t)=>(0,s.Fi)("post",`${a}/users/accept-invitation/`,{uid:e,token:t}),writeUserMemo:e=>(0,s.Fi)("post",`${a}/users/memo`,e),deleteUserMemo:e=>(0,s.Fi)("delete",`${a}/users/memo/${e}`),getUserMemos:()=>(0,s.Fi)("get",`${a}/users/memo`),deleteAccount:e=>(0,s.Fi)("delete",`${a}/users/account/`,{password:e})},n=e=>{if(e?.response?.status===401){localStorage.removeItem("VGID"),window.location.href="/login";return}return e?.response?.data?.message||e?.response?.data?.detail||"알 수 없는 오류가 발생했습니다."}},703:(e,t,r)=>{"use strict";r.d(t,{aC:()=>c,cU:()=>d,lz:()=>u});var s=r(7577),a=r(5047),o=r(9543),n=r(7409),l=r(2272);let i={LOGIN_START:"auth/loginStart",LOGIN_SUCCESS:"auth/loginSuccess",LOGIN_FAILURE:"auth/loginFailure",LOGOUT:"auth/logout",SET_USER:"auth/setUser"},c=()=>{let e=(0,o.I0)(),t=(0,a.useRouter)(),r=(0,o.v9)(e=>e.auth||{}),[c,u]=(0,s.useState)(!1),[d,p]=(0,s.useState)(null),[h,m]=(0,s.useState)(r.user||null),[_,f]=(0,s.useState)(!1),y=(0,s.useCallback)(()=>{p(null)},[]),v=(0,s.useCallback)(()=>{try{let e=localStorage.getItem("VGID");return e?JSON.parse(e):null}catch(e){return console.error("Token parsing error:",e),null}},[]),P=(0,s.useCallback)(e=>{try{localStorage.setItem("VGID",JSON.stringify(e))}catch(e){console.error("Token storage error:",e)}},[]),g=(0,s.useCallback)(()=>{let e=(0,l.bV)();return f(!!e),!!e},[]),w=(0,s.useCallback)(async()=>{try{if(!g())return;let t=await n.iJ.getUserProfile();m(t.data),e({type:i.SET_USER,payload:t.data})}catch(t){console.error("Failed to refresh user data:",t);let e=(0,n.sr)(t);e&&p(e)}},[e,g]),S=(0,s.useCallback)(async r=>{try{u(!0),p(null),e({type:i.LOGIN_START});let s=await n.iJ.signIn(r),a=s.data.vridge_session;P(a),s.data.user&&(m(s.data.user),e({type:i.LOGIN_SUCCESS,payload:s.data.user})),f(!0),await (0,l.J_)(e,t)}catch(r){console.error("Login error:",r);let t=(0,n.sr)(r);throw p(t||"로그인에 실패했습니다."),e({type:i.LOGIN_FAILURE,payload:t}),r}finally{u(!1)}},[e,t,P]),C=(0,s.useCallback)(async()=>{try{u(!0);let r=v();if(r?.refresh)try{await n.iJ.signOut(r.refresh)}catch(e){console.warn("Logout API call failed:",e)}localStorage.removeItem("VGID"),m(null),f(!1),p(null),e({type:i.LOGOUT}),t.push("/login")}catch(e){console.error("Logout error:",e),p("로그아웃 중 오류가 발생했습니다.")}finally{u(!1)}},[e,t,v]),I=(0,s.useCallback)(async t=>{try{u(!0),p(null);let r=await n.iJ.signUp(t);r.data.vridge_session&&(P(r.data.vridge_session),m(r.data.user),f(!0),e({type:i.LOGIN_SUCCESS,payload:r.data.user}))}catch(e){throw console.error("Signup error:",e),p((0,n.sr)(e)||"회원가입에 실패했습니다."),e}finally{u(!1)}},[e,P]),E=(0,s.useCallback)(async t=>{try{u(!0),p(null);let r=await n.iJ.updateUserProfile(t);m(r.data),e({type:i.SET_USER,payload:r.data})}catch(e){throw console.error("Profile update error:",e),p((0,n.sr)(e)||"프로필 업데이트에 실패했습니다."),e}finally{u(!1)}},[e]),A=(0,s.useCallback)(async e=>{try{u(!0),p(null),await n.iJ.changePassword(e)}catch(e){throw console.error("Password change error:",e),p((0,n.sr)(e)||"비밀번호 변경에 실패했습니다."),e}finally{u(!1)}},[]);return(0,s.useEffect)(()=>{(async()=>{if(g())try{await w()}catch(e){console.warn("Failed to load user data on init:",e),localStorage.removeItem("VGID"),f(!1)}})()},[g,w]),{user:h,isAuthenticated:_,loading:c,error:d,login:S,logout:C,signup:I,updateProfile:E,changePassword:A,clearError:y,checkAuthStatus:g,refreshUserData:w}},u=()=>{let[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)(null);return{loading:e,error:r,verifyInvitation:(0,s.useCallback)(async e=>{try{return t(!0),a(null),(await n.iJ.verifyInvitation(e.uid,e.token)).data}catch(e){throw console.error("Invitation verification error:",e),a((0,n.sr)(e)||"초대 링크 확인에 실패했습니다."),e}finally{t(!1)}},[]),acceptInvitation:(0,s.useCallback)(async e=>{try{return t(!0),a(null),(await n.iJ.acceptInvitation(e.uid,e.token)).data}catch(e){throw console.error("Invitation acceptance error:",e),a((0,n.sr)(e)||"초대 수락에 실패했습니다."),e}finally{t(!1)}},[]),clearError:()=>a(null)}},d=()=>{let[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)(null);return{loading:e,error:r,sendResetEmail:(0,s.useCallback)(async e=>{try{t(!0),a(null),await n.iJ.sendAuthNumber({email:e},"password_reset")}catch(e){throw console.error("Password reset email error:",e),a((0,n.sr)(e)||"비밀번호 재설정 이메일 전송에 실패했습니다."),e}finally{t(!1)}},[]),verifyResetCode:(0,s.useCallback)(async(e,r)=>{try{t(!0),a(null),await n.iJ.verifyEmail({email:e,auth_number:r},"password_reset")}catch(e){throw console.error("Password reset verification error:",e),a((0,n.sr)(e)||"인증번호 확인에 실패했습니다."),e}finally{t(!1)}},[]),resetPassword:(0,s.useCallback)(async e=>{try{t(!0),a(null),await n.iJ.resetPassword(e)}catch(e){throw console.error("Password reset error:",e),a((0,n.sr)(e)||"비밀번호 재설정에 실패했습니다."),e}finally{t(!1)}},[]),clearError:()=>a(null)}}},5355:(e,t,r)=>{"use strict";r.d(t,{$s:()=>o,CH:()=>l,E0:()=>n,l2:()=>a});var s=r(2272);function a(){return(0,s.Fi)("get",`${process.env.REACT_APP_BACKEND_API_URL}/projects/project_list`)}function o(e,t){return(0,s.Fi)("post",`${process.env.REACT_APP_BACKEND_API_URL}/projects/memo/${t}`,e)}function n(e,t){return(0,s.Fi)("delete",`${process.env.REACT_APP_BACKEND_API_URL}/projects/memo/${t}`,e)}function l(e,t){return(0,s.Fi)("post",`${process.env.REACT_APP_BACKEND_API_URL}/projects/date_update/${t}`,e)}},562:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i,qJ:()=>n});var s=r(1526);let a={user:null,nickname:null,sample_files:[],project_list:[],this_month_project:[],next_month_project:[]},o=(0,s.oM)({name:"project",initialState:a,reducers:{updateProjectStore:(e,t)=>e={...e,...t.payload},resetProjectStore:(e,t)=>a}}),{updateProjectStore:n,resetProjectStore:l}=o.actions,i=o.reducer},2272:(e,t,r)=>{"use strict";r.d(t,{Fi:()=>i,J_:()=>u,bV:()=>c});var s=r(4099),a=r(562),o=r(5355),n=r(7967),l=r.n(n);function i(e,t,r,a){return(0,s.Z)({method:e,url:t,data:r,withCredentials:!0,timeout:3e4,crossDomain:!0,...a})}function c(){return null}function u(e,t){if(c()){let r=new Date;(0,o.l2)().then(t=>{let s=t.data.result.sort((e,t)=>new Date(t.created)-new Date(e.created)),o=r.getMonth()+1,n=s.filter((e,t)=>l()(e.first_date).format("M")==o||l()(e.end_date).format("M")==o),i=s.filter((e,t)=>l()(e.first_date).format("M")==o+1||l()(e.end_date).format("M")==o+1);e((0,a.qJ)({user:t.data.user,nickname:t.data.nickname,sample_files:t.data.sample_files,project_list:s,this_month_project:n,next_month_project:i,user_memos:t.data.user_memos}))}).catch(e=>{console.log(e),e.response&&e.response.data&&"NEED_ACCESS_TOKEN"===e.response.data.message&&t.push("/login")})}}r(2679)},4713:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(9510);function a({children:e}){return s.jsx("div",{className:"auth-container",children:s.jsx("div",{className:"auth-wrapper",children:e})})}},4752:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>l});var s=r(9510),a=r(7366),o=r.n(a);let n=(0,r(8570).createProxy)(String.raw`C:\Users\유석근PD\Desktop\developments\Videoplanet\app\providers.tsx#Providers`),l={title:"VideoPlanet",description:"영상 제작 협업 플랫폼"};function i({children:e}){return s.jsx("html",{lang:"ko",children:s.jsx("body",{className:o().className,children:s.jsx(n,{children:e})})})}}};