@import '../../styles/design-tokens';

/**
 * 통합 아이콘 시스템 스타일
 */

.icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  vertical-align: middle;
  transition: all 0.2s ease-in-out;
  
  // 기본 설정
  svg {
    display: block;
  }
  
  // 클릭 가능한 아이콘
  &--clickable {
    cursor: pointer;
    
    &:hover {
      opacity: 0.8;
      transform: scale(1.05);
    }
    
    &:active {
      transform: scale(0.95);
    }
    
    &:focus {
      outline: 2px solid var(--color-primary);
      outline-offset: 2px;
      border-radius: 4px;
    }
    
    &:focus:not(:focus-visible) {
      outline: none;
    }
  }
  
  // 애니메이션 타입
  &--spin {
    animation: icon-spin 1s linear infinite;
  }
  
  &--pulse {
    animation: icon-pulse 2s ease-in-out infinite;
  }
  
  &--bounce {
    animation: icon-bounce 1s ease-in-out infinite;
  }
  
  // 다크모드
  &--dark {
    color: var(--color-text-dark);
    
    &.icon--clickable:hover {
      color: var(--color-text-dark-hover);
    }
  }
}

// 애니메이션 정의
@keyframes icon-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes icon-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes icon-bounce {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10%);
  }
}

// 크기별 스타일 (예비)
.icon-xs { width: 16px; height: 16px; }
.icon-sm { width: 20px; height: 20px; }
.icon-md { width: 24px; height: 24px; }
.icon-lg { width: 32px; height: 32px; }
.icon-xl { width: 40px; height: 40px; }

// 색상 변형 (CSS 변수 활용)
.icon-primary { color: var(--color-primary); }
.icon-secondary { color: var(--color-secondary); }
.icon-success { color: var(--color-success); }
.icon-warning { color: var(--color-warning); }
.icon-error { color: var(--color-error); }
.icon-info { color: var(--color-info); }

// 접근성 개선
@media (prefers-reduced-motion: reduce) {
  .icon {
    &--spin,
    &--pulse,
    &--bounce {
      animation: none;
    }
  }
}

// 고대비 모드 지원
@media (prefers-contrast: high) {
  .icon {
    stroke-width: 3;
    
    &--clickable:focus {
      outline-width: 3px;
    }
  }
}

// 터치 디바이스 최적화
@media (hover: none) and (pointer: coarse) {
  .icon--clickable {
    min-width: 44px;
    min-height: 44px;
    padding: 10px;
    
    &:hover {
      opacity: 1;
      transform: none;
    }
    
    &:active {
      opacity: 0.7;
    }
  }
}